{
    "collab_server" : "",
    "contents" : "#New R script \n\n#Install tidyverse packages\n\ninstall.packages(\"tidyverse\")\ninstall.packages('backports')\ninstall.packages('broom')\ninstall.packages('lubridate')\ninstall.packages(\"dplyr\") \n\n#Load packages\n\nlibrary(\"tidyverse\")\nlibrary('lubridate')\n\n#Import datasets\n\nfars_accident <- read_csv(\"fars.accident.csv\")\nView(fars_accident)\n\nfars_person <- read_csv(\"fars.person.csv\")\nView(fars_person)\n\nfars_vehicle <- read_csv(\"fars.vehicle.csv\")\nView(fars_vehicle)\n\nfars_distract <- read_csv(\"fars.distract.csv\")\nView(fars_distract)\n\nfars_pbtype <- read_csv(\"fars.pbtype.csv\")\nView(fars_pbtype)\n\n\n#Question 1: How many pedestrians were involved in traffic accidents? PERSON TABLE\n\nfars_total_peds <- fars_person %>%\n  filter(PER_TYP == \"5\") %>%\n  group_by(INJ_SEV) %>%\n  summarise(number_records = n())  %>%\n  arrange(INJ_SEV)\nView(fars_total_peds)\n\n# 1028 pedestrians were involved in crashes between 2010-2016. \n\n#Question 2: How many pedestrians were killed in traffic accidents? PERSON TABLE\n\nfars_total_peds_per <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_per)\n\nbarplot(fars_total_peds_per)\n\nggplot(data=fars_total_peds_per, aes(x=DEATH_YR, y=number_records)) +\n  geom_bar(stat=\"identity\")\n\n# 932 pedestrian killed in traffic accidents between 2010-2016. \n\n#2016: 137\n#2015: 136\n#2014: 132\n#2013: 138\n#2012: 125\n#2011: 128\n#2010: 136\n\n\n# 0.7% increase from 2010 to 2016 in deaths involving pedestrians. \n# PCT change 2015-2016: 0.7% increase\n# PCT change 2014-2015: 3% increase\n# PCT change 2013-2014: 4.3% decrease\n# PCT change 2012-2013: 10.4% increase\n# PCT change 2011-2012: 2.3% decrease\n# PCT change 2010-2011: 5.9% decrease\n\n\n\n#Question 3: How many pedestrian deaths took place in Maryland?\n\nfars_total_peds_md <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_md)\n\n#688 total pedestrian deaths in Maryland from 2010-2016. \n\n#Question 4: How many pedestrian deaths took place in Maryland just in 2016?\n\nfars_total_peds_md_2016 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR ==\"2016\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_md_2016)\n\n#102 pedestrian deaths in Maryland in 2016. \n\n#Question 5: How many pedestrian deaths took place in Delaware?\n\nfars_total_peds_de <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"10\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_de)\n\n#177 pedestrian deaths in Deleware between 2010-2016. \n\n\n#Question 6: How many pedestrian deaths took place in Delaware just in 2016?\n\nfars_total_peds_de_2016 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"10\", DEATH_YR == \"2016\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_de_2016)\n\n#27 deaths in DE in 2016. \n\n#Question 7: How many pedestrian deaths took place in DC?\n\nfars_total_peds_dc <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"11\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_dc)\n\n#67 pedestrian deaths in DC between 2010-2016.\n\n#Question 8: How many pedestrian deaths took place in DC just in 2016?\n\nfars_total_peds_dc_2016 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"11\", DEATH_YR == \"2016\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_peds_dc_2016)\n\n#8 deaths in DC in 2016. \n\n#Question 9: Looking at pedestrian deaths in Maryland between 2010-2016 by age. \n\nfars_peds_age_md <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR != 9999, DEATH_YR != 2017, AGE != \"998\", AGE != \"999\") %>%\n  group_by(AGE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(AGE))\nView(fars_peds_age_md)\n\n#Question 10: Looking at pedestrian minor deaths in Maryland between 2010-2016 by age.\n\nfars_peds_age_md_minor <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR != 9999, DEATH_YR != 2017, AGE < 18) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_peds_age_md_minor)\n\n#Question 11: Looking at pedestrian deaths in 2016 alone by age.\n\nfars_peds_2016_md <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR == \"2016\", AGE != \"998\") %>%\n  group_by(AGE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(AGE))\nView(fars_peds_2016_md)\n\n#Age ranges\n\n# 0-17: 4 records\n# 18-29: 28 records \n# 30-39: 8 records \n# 40-49: 14 records\n# 50-59: 20 records\n# 60-69: 17 records\n# 70-79: 6 records\n# 80-89: 3 records\n# 90-99: 1 record \n\n#Oldest person to die was 90 and youngest person to die was 5 in 2016 in MD\n\n#Question 12: Learning more about the 90-year-old pedestrian who died.\n\nfars_peds_90 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR == \"2016\", AGE != \"998\", AGE > 89)\nView(fars_peds_90)\n\n# Occured on August 14, 2016 at 17:54 p.m. not At Intersection-On Roadway, Not in Marked Crosswalk The pedestrian was a white, non-Hispanic 90-year-old woman. Alcohol and drugs were not involved. The victim was transported to the hospital by EMS Air. She died 10 days later on August 24, 2016 at 03:42 a.m.\n\n#Question 13: Learning more about the 5-year-old pedestrian who died\n\nfars_peds_5 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR == \"2016\", AGE != \"998\", AGE < 6)\nView(fars_peds_5)\n\nvehicles_5 <- fars_vehicle %>%\n  filter(st_case_year == \"240050_2016\")\nView(vehicles_5)\n\naccident_5 <- fars_accident %>%\n  filter(st_case_year == \"240050_2016\")\nView(accident_5)\n\ndistract_5 <- fars_distract %>%\n  filter(st_case_year == \"240050_2016\")\nView(distract_5)\n\n# At 10:20 a.m. on Monday, Jan. 25, 2016, a 5-year-old girl was struck and killed by a Kia vehicle in Carroll County, Maryland. She died less than an hour later at 11:09 a.m. The driver, a 49-year-old woman, was not reported to be distracted, speeding or under the influence of alcohol or drugs at the time of the collision. \n\n#Question 14: Looking at pedestrian deaths in Delaware in 2016 alone by age.\n\nfars_peds_2016_de <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"10\", DEATH_YR == \"2016\", AGE != \"998\") %>%\n  group_by(AGE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(AGE))\nView(fars_peds_2016_de)\n\n#Age ranges\n\n# 0-17: 3 records\n# 18-29: 1 records \n# 30-39: 5 records \n# 40-49: 7 records\n# 50-59: 4 records\n# 60-69: 3 records\n# 70-79: 2 records\n# 80-89: 2 records\n# 90-99: 0 records \n\n#Oldest person to die was 84 and youngest person to die was 14 in 2016 in DE.\n\n#Question 15: Looking at pedestrian deaths in DC in 2016 alone by age.\n\nfars_peds_2016_dc <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"11\", DEATH_YR == \"2016\", AGE != \"998\") %>%\n  group_by(AGE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(AGE))\nView(fars_peds_2016_dc)\n\n#Age ranges\n\n# 0-17: 0 records\n# 18-29: 2 records \n# 30-39: 2 records \n# 40-49: 1 records\n# 50-59: 1 records\n# 60-69: 1 records\n# 70-79: 1 records\n# 80-89: 0 records\n# 90-99: 0 records \n\n#Oldest person to die was 77 and youngest person to die was 23 in 2016 in DC\n\n#Question 16: Were the drivers who struck and killed pedestrians in Maryland in 2016 under the influence of drugs?\n\nfars_peds_drug<- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR == \"2016\", DRUGS == \"0\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_peds_drug)\n\n# Only 3 incidents with reported drug use in which a pedestrian was struck and killed.  \n\n#Question 17: Where were fatal pedestrians accidents in Maryland in 2016 most likely to occur?\n\nfars_peds_location_2016 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", DEATH_YR == \"2016\", AGE != \"998\") %>%\n  group_by(LOCATION) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(fars_peds_location_2016)\n\nggplot(data=fars_peds_location_2016, aes(x=LOCATION, y=number_records)) +\n  geom_bar(stat=\"identity\")\n\n# Most fatal pedestrian accidents in 2016 occured in \"Non At Intersection-On Roadway, Not in Marked Crosswalk\"\n\n#Question 18: Where were fatal pedestrians accidents in Maryland between 2010-2016 most likely to occur?\n\nfars_peds_location <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE ==\"24\", AGE != \"998\", LOCATION != \"99\", LOCATION != \"98\", LOCATION != \"28\") %>%\n  group_by(LOCATION) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(fars_peds_location)\n\nggplot(data=fars_peds_location, aes(x=LOCATION, y=number_records)) +\n  geom_bar(stat=\"identity\")\n\n# Most fatal pedestrian accidents between 2010-2016 occured in \"Non At Intersection-On Roadway, Not in Marked Crosswalk\"\n\n#Question 19: How do fatal pedestrians accidents compare to fatal bicyclist accidents?\n\nfars_bike <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"6\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_bike)\n\nfars_peds <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_peds)\n\n# 75 bicyclist deaths between 2010-2016 compared to 932 pedestrian deaths in the same time frame. \n\n#Question 20: How do fatal pedestrians accidents compare to fatal accidents in which the driver died?\n\nfars_drivers <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"1\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_drivers)\n\n# 2,536 driver deaths between 2010-2016 compared to 932 pedestrian deaths in the same time frame. \n\n#Question 21: How do fatal pedestrians accidents compare to fatal accidents in which a passenger died?\n\nfars_pass <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"2\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_pass)\n\n# 709 passanger deaths between 2010-2016 compared to 932 pedestrian deaths in the same time frame. \n\n#Question 22: How many fatal traffic accidents occurred between 2010 and 2016?\n\nfars_total_deaths <- fars_person %>%\n  filter(INJ_SEV ==\"4\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR)) %>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_total_deaths)\n\nggplot(data=fars_total_deaths, aes(x=DEATH_YR, y=number_records)) +\n  geom_bar(stat=\"identity\")\n\n# 4, 282 traffic deaths \n\n# 2016: 637\n# 2015: 658\n# 2014: 574\n# 2013: 566\n# 2012: 617\n# 2011: 612\n# 2010: 618\n\n#Question 23: How many fatal accidents involved school buses?\n\nfars_school_bus <- fars_accident %>%\n  filter(SCH_BUS == \"1\", FATALS > 0) %>%\n  group_by(YEAR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(YEAR)) %>%\n  filter(YEAR != 9999, YEAR != 2017)\nView(fars_school_bus)\n\nggplot(data=fars_school_bus, aes(x=YEAR, y=number_records)) +\n  geom_bar(stat=\"identity\")\n\n# 14 incidents involving school buses resulted in deaths. \n\n#Question 24: How many fatal accidents involving pedestrian minors in all states between 2010 and 2016?\n\nfars_person_minors <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18, DEATH_YR != 9999) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\n\nView(fars_person_minors)\n\nggplot(data=fars_person_minors, aes(x=DEATH_YR, y=number_records)) +\n  geom_bar(stat=\"identity\")\n\n#61 fatal accidents involving pedestrian minors in all states between 2010 and 2016.\n\n#Question 25: In how many fatal accidents did pedestrian minors die on the scene?\n\nfars_doa <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18, DOA == \"7\") %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\n\nView(fars_doa)\n\n# There are only records 7 records for they years 2010, 2011, and 2012 for accidents involving minor and pedestrians in which an person died on the scene.\n\n#Question 26: Accidents involving dead pedestrian minors broken down by gender\n\nfars_person_male <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18, SEX ==\"1\", DEATH_YR != 9999) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_person_male)\n\nfars_person_female <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18, SEX ==\"2\", DEATH_YR != 9999) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_person_female)\n\n#31 accidents in which boys were killed and 30 accidents in which girls were killed.\n\n#Question 27: Accidents involving all dead pedestrians broken down by gender\n\nfars_person_male_all <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", SEX ==\"1\", STATE == \"24\", DEATH_YR != 9999, DEATH_YR != 2017) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_person_male_all)\n\nfars_person_female_all <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", SEX ==\"2\", STATE == \"24\", DEATH_YR != 9999, DEATH_YR != 2017) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_person_female_all)\n\n# 495 accidents in which men were killed and 192 accidents involving girls.\n\n#Question 28: How many deadly pedestrian minor accidents occurred in Maryland?\n\nfars_person_maryland <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18, STATE ==\"24\", DEATH_YR != 9999) %>%\n  group_by(DEATH_YR) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(DEATH_YR))\nView(fars_person_maryland)\n\n# There was a total of 44 fatal accidents in Maryland invovling pedestrians and minors. \n\n#Question 29: What was the make of car most involved in deadly traffic accidents with pedestrian under the age of 18?\n\nfars_car_make <- peds_u_18_vehicles %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18, MAKE != 99) %>%\n  group_by(MAKE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(fars_car_make)\n\n#Fords were most involved in fatal traffic accidents with pedestrian under the age of 18.\n\n#Question 30: What was the make of car most involved in deadly pedestrian traffic accidents?\n\nfars_car_make_all <- peds_u_18_vehicles %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", MAKE != 99) %>%\n  group_by(MAKE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(MAKE))%>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_car_make_all)\n\n#Fords were involved in 12 accidents, Chevrolet involved in 8 acccidents, Toyotas in 7 accidents (out of 69)\n\n\n#TABLE JOINS: Joining FARS ACCIDENTS table to FARS PERSON table of deaths, pedestrians and minors \n\npeds_deaths <- fars_vehicle %>%  \n  inner_join(fars_person, by = \"st_case_year\") %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", DEATH_YR != 9999, DEATH_YR != 2017)\nView(peds_deaths)\n\n#Question 31: Between 2010-2016, what was the make of car most involved in deadly pedestrian traffic accidents?\n\nnew_peds_deaths <- peds_deaths %>%\n  group_by(MAKE.y) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(new_peds_deaths)\n\n#TOP 5 (excluding unknown make)\n\n#1 - Ford - 115\n#2 - Chevrolet - 77\n#3 - Toyota - 68\n#4 - Honda - 60 \n#5 - Datsun/Nissan - 33\n\n#Question 32: In 2016, what was the make of car most involved in deadly pedestrian traffic accidents?\n\npeds_deaths_2016 <- fars_person %>%  \n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", DEATH_YR == \"2016\")%>%\n  inner_join(fars_vehicle, by = \"st_case_year\")\nView(peds_deaths_2016)\n\nnew_peds_deaths_2016 <- peds_deaths_2016 %>%\n  group_by(MAKE.y) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(new_peds_deaths_2016)\n\n#TOP 5 for 2016 (excluding unknown make)\n\n#1 - Chevrolet - 14\n#2 - Ford - 13\n#3 - Honda - 11\n#4 - Toyota - 11  \n#5 - Dodge - 7\n\n\n#More Table joins \n\nView(fars_vehicle)\n\nvehicles_persons_accident <- fars_person %>%\n  inner_join(fars_accident, by = \"st_case_year\") %>%\n  inner_join(fars_vehicle, by = \"st_case_year\")\nView(vehicles_persons_accident)\n\nnew_vehicles_persons_accident <- vehicles_persons_accident %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", DEATH_YR != 9999, DEATH_YR != 2017) %>%\n  group_by(MAKE.x)\nsummarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(new_vehicles_persons_accident)\n\npeds_deaths_all <- fars_vehicle %>%\n  inner_join(peds_deaths, by = \"st_case_year\")\nView(peds_deaths_all)\n\nfars_car_make_all <- peds_deaths_all %>%\n  group_by(MAKE) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(MAKE))%>%\n  filter(DEATH_YR != 9999, DEATH_YR != 2017)\nView(fars_car_make_all)\n\npedestrian_u_18_case_numbers <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", AGE < 18) %>%\n  distinct(st_case_year)\nView(pedestrian_u_18_case_numbers)\n\npeds_u_18_accidents <- fars_accident %>%\n  inner_join(pedestrian_u_18_case_numbers, by =\"st_case_year\")\nView(peds_u_18_accidents)\n\npeds_u_18_vehicles <- peds_u_18_accidents  %>%\n  inner_join(fars_vehicle, by =\"st_case_year\")\nView(peds_u_18_vehicles)\n\nfars_vehicles_make <- fars_vehicle  %>%\n  inner_join(fars_accident, by = \"st_case_year\")%>%\n  inner_join(fars_person, by = \"st_case_year\")\nview(fars_vehicles_make)\n\npeds_vehicle_make <- fars_vehicles_make  %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", MAKE.x != 99, YEAR ) %>%\n  group_by(MAKE.x) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records))\nView(peds_vehicle_make)\n\npedestrians_killed_2016 <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", DEATH_YR == \"2016\") %>%\n  distinct(st_case_year)\nView(pedestrians_killed_2016)\n\npedestrians_killed_all_years <- fars_person %>%\n  filter(INJ_SEV ==\"4\", PER_TYP == \"5\", STATE == \"24\", DEATH_YR != 9999) %>%\n  distinct(st_case_year)\nView(pedestrians_killed_all_years)\n\n#New table with info from fars_person, fars_accident, and fars_distract\n\nnew_table_2016 <- fars_distract %>%\n  inner_join(pedestrians_killed_2016, by =\"st_case_year\") %>%\n  inner_join(fars_accident, by =\"st_case_year\")\nView(new_table_2016)\n\n#Question 33: How many deadly pedestrian traffic accidents were caused by distracted driving?\n\ndeaths_by_distraction_2016 <- new_table_2016 %>%\n  group_by(MDRDSTRD) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(MDRDSTRD)) \nView(deaths_by_distraction_2016)\n\nnew_table_all_years <- fars_distract %>%\n  inner_join(pedestrians_killed_all_years, by =\"st_case_year\") %>%\n  inner_join(fars_accident, by =\"st_case_year\")\nView(new_table_all_years)\n\ndeaths_by_distraction <- new_table_all_years %>%\n  group_by(MDRDSTRD) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(MDRDSTRD)) \nView(deaths_by_distraction)\n\n#75/113 accidents was not caused by distracted driving. \n\n#Question 34: What were weather conditions like at the time of deadly pedestrian traffic accidents?\n\njoin_person_accident <- pedestrians_killed_all_years %>%\n  inner_join(fars_accident, by =\"st_case_year\")\nView(join_person_accident)\n\nweather_conditions <- join_person_accident %>%\n  group_by(WEATHER) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records)) \nView(weather_conditions)\n\n#A majority of accidents occurred in clear weather \n\n#Question 35: What were weather conditions like at the time of deadly pedestrian traffic accidents in Maryland in 2016?\n\njoin_person_accident_2016 <- pedestrians_killed_2016 %>%\n  inner_join(fars_accident, by =\"st_case_year\")\nView(join_person_accident_2016)\n\nweather_conditions_2016 <- join_person_accident_2016 %>%\n  group_by(WEATHER) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records)) \nView(weather_conditions_2016)\n\n# Again, a majority of accidents occurred in clear weather in 2016 in Maryland. \n\n#Question 36: Where were fatal pedestrians accidents in Maryland between 2010-2016 most likely to occur? Location filtered by RELJCT2 in accidents table all years\n\nrelation_junction <- join_person_accident %>%\n  group_by(RELJCT2) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records)) \nView(relation_junction)\n\n#Most occured in \"non-junctions\"\n\n#Question 37: Where were fatal pedestrians accidents in Maryland in 2016 most likely to occur? Location filtered by RELJCT2 in accidents table 2016\n\nrelation_junction_2016 <- join_person_accident_2016 %>%\n  group_by(RELJCT2) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records)) \nView(relation_junction_2016)\n\n#Most occured in \"non-junctions\"\n\n#Question 37: In what counties were fatal pedestrians accidents in Maryland between 2010-2016 most likely to occur? \n\ncounty_all_years <- join_person_accident %>%\n  group_by(COUNTY) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records)) \nView(county_all_years)\n\n#COUNTY (ALL YEARS) \n\n# 33 = Prince George's County - 147\n# 5 = Baltimore - 128\n# 510 = Baltimore (City) - 75\n# 31 = Montgomery - 69\n# 3 = ANNE ARUNDEL - 60\n# 25 = Harford - 28\n# 17 = Charles - 23\n# 15 = Cecil - 21\n# 43 = Washington - 21\n# 37 = St. Mary's - 17\n# 27 = Howard - 15\n# 13 = Carroll - 14\n# 47 = Worcester - 14\n# 21 = Frederick - 10\n# 45 = Wicomico - 7\n# 23 = Garret - 5\n# 35 = Queen Anne's - 5\n# 19 = Dorchester - 4\n# 41 = Talbot - 4\n# 9 =  Calvert - 3\n# 1 = Allegany - 2\n# 11 = Caroline - 2\n# 39 = Somerset - 2\n\n#676 total\n\n#Question 38: In what counties were fatal pedestrians accidents in Maryland in 2016 most likely to occur? \n\ncounty_2016 <- join_person_accident_2016 %>%\n  group_by(COUNTY) %>%\n  summarise(number_records = n()) %>%\n  arrange(desc(number_records)) \nView(county_2016)\n\n#COUNTY (2016) \n\n# 5 = Baltimore - 19\n# 33 = Prince George's County - 19\n# 510 = Baltimore (City) - 18\n# 27 = Howard - 8\n# 31 = Montgomery - 8\n# 3 = ANNE ARUNDEL - 7\n# 13 = Carroll - 4\n# 17 = Charles - 4\n# 25 = Harford - 4\n# 43 = Washington - 3 \n# 47 = Worcester - 3\n# 15 = Cecil - 2\n# 37 = St. Mary's - 2\n# 9 =  Calvert - 1\n# 19 = Dorchester - 1\n# 35 = Queen Anne's - 1\n\n#101 total\n\n\n\n",
    "created" : 1557881946555.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "137847754",
    "id" : "B6C5993",
    "lastKnownWriteTime" : 1557887125,
    "last_content_update" : 1557887125328,
    "path" : "~/Desktop/fars_exercise/script3.r",
    "project_path" : "script3.r",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 17,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}